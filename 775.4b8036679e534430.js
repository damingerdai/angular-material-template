"use strict";(self.webpackChunkangular_material_template=self.webpackChunkangular_material_template||[]).push([[775],{775:(j,d,n)=>{n.r(d),n.d(d,{AccountModule:()=>M});var m=n(6895),u=n(8996),w=n(6797),e=n(4650),g=n(1481),i=n(1576),p=n(3546),f=n(3848),a=n(4006),h=n(263),P=n(945),v=n(4649),C=n(1645),x=n(7392),Z=n(4859),c=n(9549),y=n(4144);function A(t,s){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a your current password "),e.qZA())}function T(t,s){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a new password "),e.qZA())}function N(t,s){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please confirm your new password "),e.qZA())}let S=(()=>{class t{constructor(o,r,l,Y){this.authService=o,this.logger=r,this.spinnerService=l,this.notificationService=Y,this.hideCurrentPassword=!0,this.hideNewPassword=!0}ngOnInit(){this.form=new a.nJ({currentPassword:new a.p4("",a.kI.required),newPassword:new a.p4("",a.kI.required),newPasswordConfirm:new a.p4("",a.kI.required)}),this.form.get("currentPassword")?.valueChanges.subscribe(o=>{this.currentPassword=o}),this.form.get("newPassword")?.valueChanges.subscribe(o=>{this.newPassword=o}),this.form.get("newPasswordConfirm")?.valueChanges.subscribe(o=>{this.newPasswordConfirm=o}),this.spinnerService.visibility.subscribe(o=>{this.disableSubmit=o})}changePassword(){if(this.newPassword!==this.newPasswordConfirm)return void this.notificationService.openSnackBar("New passwords do not match.");const o=this.authService.getCurrentUser().email;this.authService.changePassword(o,this.currentPassword,this.newPassword).subscribe(r=>{this.logger.info(`User ${o} changed password.`),this.form.reset(),this.notificationService.openSnackBar("Your password has been changed.")},r=>{this.notificationService.openSnackBar(r.error)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(h.$),e.Y36(P.Kf),e.Y36(v.V),e.Y36(C.g))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-change-password"]],decls:22,vars:11,consts:[[3,"formGroup"],["fxLayout","row"],["fxFlex","40%","fxFlex.md","60%","fxFlex.sm","50%","fxFlex.xs","100%"],[1,"full-width"],["matInput","","placeholder","Current Password","formControlName","currentPassword","autocomplete","current-password",3,"type"],["matSuffix","",3,"click"],[4,"ngIf"],["matInput","","placeholder","New Password","formControlName","newPassword","autocomplete","new-password",3,"type"],["matInput","","placeholder","Confirm New Password","formControlName","newPasswordConfirm","autocomplete","new-password",3,"type"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(o,r){1&o&&(e.TgZ(0,"form",0)(1,"p"),e._uU(2,"Use the form below to change your password."),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"mat-form-field",3),e._UZ(6,"input",4),e.TgZ(7,"mat-icon",5),e.NdJ("click",function(){return r.hideCurrentPassword=!r.hideCurrentPassword}),e._uU(8),e.qZA(),e.YNc(9,A,2,0,"mat-error",6),e.qZA(),e.TgZ(10,"mat-form-field",3),e._UZ(11,"input",7),e.TgZ(12,"mat-icon",5),e.NdJ("click",function(){return r.hideNewPassword=!r.hideNewPassword}),e._uU(13),e.qZA(),e.YNc(14,T,2,0,"mat-error",6),e.qZA(),e.TgZ(15,"mat-form-field",3),e._UZ(16,"input",8),e.TgZ(17,"mat-icon",5),e.NdJ("click",function(){return r.hideNewPassword=!r.hideNewPassword}),e._uU(18),e.qZA(),e.YNc(19,N,2,0,"mat-error",6),e.qZA(),e.TgZ(20,"button",9),e.NdJ("click",function(){return r.changePassword()}),e._uU(21,"Save"),e.qZA()()()()),2&o&&(e.Q6J("formGroup",r.form),e.xp6(6),e.Q6J("type",r.hideCurrentPassword?"password":"text"),e.xp6(2),e.hij(" ",r.hideCurrentPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",r.form.controls.currentPassword.hasError("required")),e.xp6(2),e.Q6J("type",r.hideNewPassword?"password":"text"),e.xp6(2),e.hij(" ",r.hideNewPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",r.form.controls.newPassword.hasError("required")),e.xp6(2),e.Q6J("type",r.hideNewPassword?"password":"text"),e.xp6(2),e.hij(" ",r.hideNewPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",r.form.controls.newPasswordConfirm.hasError("required")),e.xp6(1),e.Q6J("disabled",r.form.invalid||r.disableSubmit))},dependencies:[m.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,i.xw,i.yH,x.Hw,Z.lW,c.TO,c.KE,c.R9,y.Nt],styles:[".password-rules[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{position:unset!important}.container[_ngcontent-%COMP%]{padding-top:20px}"]}),t})(),U=(()=>{class t{constructor(o){this.authService=o,this.fullName="",this.email="",this.alias=""}ngOnInit(){this.fullName=this.authService.getCurrentUser().fullName,this.email=this.authService.getCurrentUser().email}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(h.$))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile-details"]],decls:8,vars:4,consts:[[1,"profile-card"],["src","assets/images/user.png",3,"alt"],[1,"title"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"label"),e._uU(5),e.qZA(),e.TgZ(6,"label"),e._uU(7),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("alt",r.fullName),e.xp6(2),e.hij(" ",r.fullName," "),e.xp6(2),e.hij(" ",r.alias," "),e.xp6(2),e.hij(" ",r.email," "))},styles:[".profile-card[_ngcontent-%COMP%]{text-align:center}"]}),t})();const J=[{path:"",component:w.$,children:[{path:"profile",component:(()=>{class t{constructor(o){this.titleService=o}ngOnInit(){this.titleService.setTitle("angular-material-template - Account")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(g.Dx))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-account-page"]],decls:14,vars:0,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex","95%"],["fxLayout","row","fxLayout.sm","column","fxLayout.xs","column"],["fxFlex","30%","fxFlex.sm","95%","fxFlex.xs","95%"],["fxFlex",""],["fxFlex","65%","fxFlex.sm","95%","fxFlex.xs","950%"],["label","Change Password"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-content")(4,"h2"),e._uU(5,"My Profile"),e.qZA(),e.TgZ(6,"div",2)(7,"div",3),e._UZ(8,"app-profile-details"),e.qZA(),e._UZ(9,"div",4),e.TgZ(10,"div",5)(11,"mat-tab-group")(12,"mat-tab",6),e._UZ(13,"app-change-password"),e.qZA()()()()()()()())},dependencies:[i.xw,i.Wh,i.yH,p.a8,p.dn,f.SP,f.uX,S,U]}),t})()}]}];let F=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(J),u.Bz]}),t})();var I=n(3927);let M=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,I.m,F]}),t})()}}]);